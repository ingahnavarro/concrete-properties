
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>7. Stress Analysis &#8212; concreteproperties 0.2.3 documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="8. Design Codes" href="design_codes.html" />
    <link rel="prev" title="6. Biaxial Bending Diagram" href="biaxial_bending.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    <img src="../_static/cp_logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/cp_logo_dark.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
    <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        latest  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables notebooks/stress_analysis and {'json_url': 'https://robbievanleeuwen.github.io/concrete-properties/_static/switcher.json', 'version_match': 'latest'}.
-->

<script type="text/javascript">
// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "notebooks/stress_analysis.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://robbievanleeuwen.github.io/concrete-properties/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "notebooks/stress_analysis.html";
        let btn = document.getElementById("version_switcher_button");
        // Set empty strings by default so that these attributes exist and can be used in CSS selectors
        btn.dataset["activeVersionName"] = "";
        btn.dataset["activeVersion"] = "";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            // Add dataset values for the version and name in case people want
            // to apply CSS styling based on this information.
            node.dataset["versionName"] = entry.name;
            node.dataset["version"] = entry.version;

            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's 0.2.3 variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "latest") {
                node.classList.add("active");
                btn.innerText = btn.dataset["activeVersionName"] = entry.name;
                btn.dataset["activeVersion"] = entry.version;
            }
        });
    });
})();
</script>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../rst/installation.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../rst/materials.html">
  Materials
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../rst/geometry.html">
  Geometry
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../rst/analysis.html">
  Analysis
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../rst/results.html">
  Results
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../rst/design_codes.html">
  Design Codes
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../rst/examples.html">
  Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../rst/api.html">
  API Reference
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/robbievanleeuwen/concrete-properties" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://pypi.org/project/concreteproperties/" rel="noopener" target="_blank" title="PyPI"><span><i class="fas fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="area_properties.html">
   1. Calculating Area Properties
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cracked_properties.html">
   2. Calculating Cracked Properties
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="moment_curvature.html">
   3. Moment Curvature Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ultimate_bending.html">
   4. Ultimate Bending Capacity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="moment_interaction.html">
   5. Moment Interaction Diagram
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="biaxial_bending.html">
   6. Biaxial Bending Diagram
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   7. Stress Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="design_codes.html">
   8. Design Codes
  </a>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Assign-Materials">
   7.1. Assign Materials
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Create-Geometry-and-Concrete-Section">
   7.2. Create Geometry and Concrete Section
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Elastic-Uncracked-Stress-Analysis">
   7.3. Elastic Uncracked Stress Analysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Elastic-Cracked-Stress-Analysis">
   7.4. Elastic Cracked Stress Analysis
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Concrete-Results">
     7.4.1. Concrete Results
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#Steel-Results">
     7.4.2. Steel Results
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Service-Stress-Analysis">
   7.5. Service Stress Analysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#Ultimate-Stress-Analysis">
   7.6. Ultimate Stress Analysis
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      

<div class="tocsection editthispage">
    <a href="https://github.com/robbievanleeuwen/concrete-properties/edit/master/docs/source/notebooks/stress_analysis.ipynb">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Stress-Analysis">
<h1><span class="section-number">7. </span>Stress Analysis<a class="headerlink" href="#Stress-Analysis" title="Permalink to this heading">#</a></h1>
<p>This example demonstrates how to undertake stress analyses and view their results. We start by importing the necessary modules.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">rich.pretty</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="kn">from</span> <span class="nn">concreteproperties.material</span> <span class="kn">import</span> <span class="n">Concrete</span><span class="p">,</span> <span class="n">Steel</span>
<span class="kn">from</span> <span class="nn">concreteproperties.stress_strain_profile</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">EurocodeNonLinear</span><span class="p">,</span>
    <span class="n">RectangularStressBlock</span><span class="p">,</span>
    <span class="n">SteelElasticPlastic</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">sectionproperties.pre.library.concrete_sections</span> <span class="kn">import</span> <span class="n">concrete_circular_section</span>
<span class="kn">from</span> <span class="nn">concreteproperties.concrete_section</span> <span class="kn">import</span> <span class="n">ConcreteSection</span>
</pre></div>
</div>
</div>
<div class="section" id="Assign-Materials">
<h2><span class="section-number">7.1. </span>Assign Materials<a class="headerlink" href="#Assign-Materials" title="Permalink to this heading">#</a></h2>
<p>The materials used in this example will be 40 MPa concrete and 500 MPa steel, specified in accordance with AS 3600:2018. The service stress-strain profile for the concrete will be adapted from EC2.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">concrete</span> <span class="o">=</span> <span class="n">Concrete</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;40 MPa Concrete&quot;</span><span class="p">,</span>
    <span class="n">density</span><span class="o">=</span><span class="mf">2.4e-6</span><span class="p">,</span>
    <span class="n">stress_strain_profile</span><span class="o">=</span><span class="n">EurocodeNonLinear</span><span class="p">(</span>
        <span class="n">elastic_modulus</span><span class="o">=</span><span class="mf">32.8e3</span><span class="p">,</span>
        <span class="n">ultimate_strain</span><span class="o">=</span><span class="mf">0.0035</span><span class="p">,</span>
        <span class="n">compressive_strength</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
        <span class="n">compressive_strain</span><span class="o">=</span><span class="mf">0.0023</span><span class="p">,</span>
        <span class="n">tensile_strength</span><span class="o">=</span><span class="mf">3.8</span><span class="p">,</span>
        <span class="n">tension_softening_stiffness</span><span class="o">=</span><span class="mf">10e3</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">ultimate_stress_strain_profile</span><span class="o">=</span><span class="n">RectangularStressBlock</span><span class="p">(</span>
        <span class="n">compressive_strength</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span>
        <span class="n">alpha</span><span class="o">=</span><span class="mf">0.79</span><span class="p">,</span>
        <span class="n">gamma</span><span class="o">=</span><span class="mf">0.87</span><span class="p">,</span>
        <span class="n">ultimate_strain</span><span class="o">=</span><span class="mf">0.003</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">alpha_squash</span><span class="o">=</span><span class="mf">0.85</span><span class="p">,</span>
    <span class="n">flexural_tensile_strength</span><span class="o">=</span><span class="mf">3.8</span><span class="p">,</span>
    <span class="n">colour</span><span class="o">=</span><span class="s2">&quot;lightgrey&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">steel</span> <span class="o">=</span> <span class="n">Steel</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;500 MPa Steel&quot;</span><span class="p">,</span>
    <span class="n">density</span><span class="o">=</span><span class="mf">7.85e-6</span><span class="p">,</span>
    <span class="n">stress_strain_profile</span><span class="o">=</span><span class="n">SteelElasticPlastic</span><span class="p">(</span>
        <span class="n">yield_strength</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
        <span class="n">elastic_modulus</span><span class="o">=</span><span class="mf">200e3</span><span class="p">,</span>
        <span class="n">fracture_strain</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">colour</span><span class="o">=</span><span class="s2">&quot;grey&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Create-Geometry-and-Concrete-Section">
<h2><span class="section-number">7.2. </span>Create Geometry and Concrete Section<a class="headerlink" href="#Create-Geometry-and-Concrete-Section" title="Permalink to this heading">#</a></h2>
<p>The section in this example is a 600 mm diameter concrete column, reinforced with 10N20 bars with 45 mm cover. The geometry is generated using the <em>sectionproperties</em> concrete sections library.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geom</span> <span class="o">=</span> <span class="n">concrete_circular_section</span><span class="p">(</span>
    <span class="n">d</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
    <span class="n">n</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span>
    <span class="n">dia</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">n_bar</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">n_circle</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">area_conc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mi">600</span> <span class="o">*</span> <span class="mi">600</span> <span class="o">/</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">area_bar</span><span class="o">=</span><span class="mi">310</span><span class="p">,</span>
    <span class="n">cover</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span>
    <span class="n">conc_mat</span><span class="o">=</span><span class="n">concrete</span><span class="p">,</span>
    <span class="n">steel_mat</span><span class="o">=</span><span class="n">steel</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">conc_sec</span> <span class="o">=</span> <span class="n">ConcreteSection</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span>
<span class="n">conc_sec</span><span class="o">.</span><span class="n">plot_section</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_6_0.svg" src="../_images/notebooks_stress_analysis_6_0.svg" /></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:title={&#39;center&#39;:&#39;Reinforced Concrete Section&#39;}&gt;
</pre></div></div>
</div>
</div>
<div class="section" id="Elastic-Uncracked-Stress-Analysis">
<h2><span class="section-number">7.3. </span>Elastic Uncracked Stress Analysis<a class="headerlink" href="#Elastic-Uncracked-Stress-Analysis" title="Permalink to this heading">#</a></h2>
<p>We perform an uncracked stress analysis using the <code class="docutils literal notranslate"><span class="pre">calculate_uncracked_stress()</span></code> method. This analysis assumes the entire concrete section acts to resist the applied loading. Note that <em>concreteproperties</em> does not check to see if the provided moment is above the cracking moment, this should be confirmed by performing a cracking analysis.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uncr_stress_res_1</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">calculate_uncracked_stress</span><span class="p">(</span><span class="n">m_x</span><span class="o">=</span><span class="mf">50e6</span><span class="p">)</span>
<span class="n">uncr_stress_res_2</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">calculate_uncracked_stress</span><span class="p">(</span><span class="n">m_x</span><span class="o">=</span><span class="mf">25e6</span><span class="p">,</span> <span class="n">m_y</span><span class="o">=</span><span class="mf">35e6</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">200e3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We can visualise the stresses by calling the <code class="docutils literal notranslate"><span class="pre">plot_stress()</span></code> method.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uncr_stress_res_1</span><span class="o">.</span><span class="n">plot_stress</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_10_0.svg" src="../_images/notebooks_stress_analysis_10_0.svg" /></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:title={&#39;center&#39;:&#39;Stress&#39;}&gt;
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">uncr_stress_res_2</span><span class="o">.</span><span class="n">plot_stress</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_11_0.svg" src="../_images/notebooks_stress_analysis_11_0.svg" /></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:title={&#39;center&#39;:&#39;Stress&#39;}&gt;
</pre></div></div>
</div>
</div>
<div class="section" id="Elastic-Cracked-Stress-Analysis">
<h2><span class="section-number">7.4. </span>Elastic Cracked Stress Analysis<a class="headerlink" href="#Elastic-Cracked-Stress-Analysis" title="Permalink to this heading">#</a></h2>
<p>A cracked stress analysis first requires a cracking analysis to be performed by calling the <code class="docutils literal notranslate"><span class="pre">calculate_cracked_properties()</span></code> method. Here we perform a cracking analysis for bending about the <code class="docutils literal notranslate"><span class="pre">x</span></code> axis.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cracked_res</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">calculate_cracked_properties</span><span class="p">(</span><span class="n">theta</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;M_cr = </span><span class="si">{</span><span class="n">cracked_res</span><span class="o">.</span><span class="n">m_cr</span> <span class="o">/</span> <span class="mf">1e6</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> kN.m&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;d_n,c = </span><span class="si">{</span><span class="n">cracked_res</span><span class="o">.</span><span class="n">d_nc</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> mm&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
M_cr = 86.32 kN.m
d_n,c = 143.81 mm
</pre></div></div>
</div>
<p>Since the cracking moment is 86 kN.m, let’s see what the stresses within the cross-section look like under 150 kN.m bending moment. Note that the moment will be applied about the same axis as used in the cracking analysis.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m_ext</span> <span class="o">=</span> <span class="mf">150e6</span>
<span class="n">cracked_stress_res</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">calculate_cracked_stress</span><span class="p">(</span>
    <span class="n">cracked_results</span><span class="o">=</span><span class="n">cracked_res</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m_ext</span>
<span class="p">)</span>
<span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">plot_stress</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_15_0.svg" src="../_images/notebooks_stress_analysis_15_0.svg" /></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:title={&#39;center&#39;:&#39;Stress&#39;}&gt;
</pre></div></div>
</div>
<p>Many useful results are stored within the <code class="docutils literal notranslate"><span class="pre">StressResult</span></code> object. Let’s examine a few of these results.</p>
<div class="section" id="Concrete-Results">
<h3><span class="section-number">7.4.1. </span>Concrete Results<a class="headerlink" href="#Concrete-Results" title="Permalink to this heading">#</a></h3>
<p>Concrete geometries that remain after cracking are stored in the <code class="docutils literal notranslate"><span class="pre">concrete_analysis_sections</span></code> attribute as a list of <code class="docutils literal notranslate"><span class="pre">AnalysisSection</span></code> objects. We can visualise this geometry by calling the <code class="docutils literal notranslate"><span class="pre">plot_mesh()</span></code> method. The <code class="docutils literal notranslate"><span class="pre">StressResult</span></code> object also stores the stresses at the nodes in each <code class="docutils literal notranslate"><span class="pre">AnalysisSection</span></code> in the <code class="docutils literal notranslate"><span class="pre">concrete_stresses</span></code> attribute - these are the stresses you see on the <code class="docutils literal notranslate"><span class="pre">plot_stress()</span></code> plots. Finally, the <code class="docutils literal notranslate"><span class="pre">concrete_forces</span></code> attribute stores the resultant force for each
<code class="docutils literal notranslate"><span class="pre">AnalysisSection</span></code> and its lever arm about the neutral axis.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">an_sec</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">concrete_analysis_sections</span><span class="p">):</span>
    <span class="c1"># Label section and plot section mesh</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Analysis Section </span><span class="si">{</span><span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">an_sec</span><span class="o">.</span><span class="n">plot_mesh</span><span class="p">()</span>

    <span class="c1"># get concrete results</span>
    <span class="n">sigs_conc</span> <span class="o">=</span> <span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">concrete_stresses</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="n">f_conc</span> <span class="o">=</span> <span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">concrete_forces</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">d_x_conc</span> <span class="o">=</span> <span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">concrete_forces</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">d_y_conc</span> <span class="o">=</span> <span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">concrete_forces</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">m_x_conc</span> <span class="o">=</span> <span class="n">f_conc</span> <span class="o">*</span> <span class="n">d_y_conc</span>
    <span class="n">m_y_conc</span> <span class="o">=</span> <span class="n">f_conc</span> <span class="o">*</span> <span class="n">d_x_conc</span>
    <span class="n">m_conc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">m_x_conc</span> <span class="o">*</span> <span class="n">m_x_conc</span> <span class="o">+</span> <span class="n">m_y_conc</span> <span class="o">*</span> <span class="n">m_y_conc</span><span class="p">)</span>

    <span class="c1"># print results</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Concrete Stresses:&quot;</span><span class="p">)</span>
    <span class="n">pprint</span><span class="p">(</span><span class="n">sigs_conc</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Concrete Net Force &amp; Lever Arm:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;F_c = </span><span class="si">{</span><span class="n">f_conc</span> <span class="o">/</span> <span class="mf">1e3</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> kN&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;d_x_n = </span><span class="si">{</span><span class="n">d_x_conc</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> mm&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;d_y_n = </span><span class="si">{</span><span class="n">d_y_conc</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> mm&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;M_x_c = </span><span class="si">{</span><span class="n">m_x_conc</span> <span class="o">/</span> <span class="mf">1e6</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> kN.m&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;M_y_c = </span><span class="si">{</span><span class="n">m_y_conc</span> <span class="o">/</span> <span class="mf">1e6</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> kN.m&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;M_c = </span><span class="si">{</span><span class="n">m_conc</span> <span class="o">/</span> <span class="mf">1e6</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> kN.m&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Analysis Section 1
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_18_1.svg" src="../_images/notebooks_stress_analysis_18_1.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Concrete Stresses:
</pre></div></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="color: #800080; text-decoration-color: #800080; font-weight: bold">array</span><span style="font-weight: bold">([</span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5.86929734e-05</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.17773019e+00</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">6.52033244e+00</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.09048928e+01</span>,
<span style="color: #7fbf7f; text-decoration-color: #7fbf7f">│      </span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.41629150e+01</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.61691952e+01</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.68466332e+01</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.61691952e+01</span>,
<span style="color: #7fbf7f; text-decoration-color: #7fbf7f">│      </span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.41629150e+01</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.09048928e+01</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">6.52033244e+00</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.17773019e+00</span>,
<span style="color: #7fbf7f; text-decoration-color: #7fbf7f">│      </span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">5.86929734e-05</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">8.88584105e+00</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.03442622e+01</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">8.88584105e+00</span>,
<span style="color: #7fbf7f; text-decoration-color: #7fbf7f">│      </span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">7.42741987e+00</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">7.42741987e+00</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">8.88584105e+00</span>, <span style="color: #008080; text-decoration-color: #008080; font-weight: bold">1.03442622e+01</span>,
<span style="color: #7fbf7f; text-decoration-color: #7fbf7f">│      </span><span style="color: #008080; text-decoration-color: #008080; font-weight: bold">8.88584105e+00</span><span style="font-weight: bold">])</span>
</pre></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Concrete Net Force &amp; Lever Arm:
F_c = 347.99 kN
d_x_n = -0.00 mm
d_y_n = 82.77 mm
M_x_c = 28.80 kN.m
M_y_c = -0.00 kN.m
M_c = 28.80 kN.m
</pre></div></div>
</div>
</div>
<div class="section" id="Steel-Results">
<h3><span class="section-number">7.4.2. </span>Steel Results<a class="headerlink" href="#Steel-Results" title="Permalink to this heading">#</a></h3>
<p>Steel geometries are stored in the <code class="docutils literal notranslate"><span class="pre">steel_geometries</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">StressResult</span></code> object. Similar to the concrete results, the stresses and forces/lever arms are stored, as well as the strains. Here we print the stress for each bar to the terminal.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rich.table</span> <span class="kn">import</span> <span class="n">Table</span>
<span class="kn">from</span> <span class="nn">rich.console</span> <span class="kn">import</span> <span class="n">Console</span>

<span class="c1"># store forces &amp; moments for later</span>
<span class="n">forces</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">moments_x</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># create a Rich table for pretty printing</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Steel Results&quot;</span><span class="p">)</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Bar No.&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;cyan&quot;</span><span class="p">,</span> <span class="n">no_wrap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Location (x, y) (mm)&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Stress (MPa)&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Force (kN)&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Lever Arm (mm)&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>
<span class="n">table</span><span class="o">.</span><span class="n">add_column</span><span class="p">(</span><span class="s2">&quot;Moment (kN.m)&quot;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;green&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">steel_geom</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">steel_geometries</span><span class="p">):</span>
    <span class="c1"># get the steel results</span>
    <span class="n">centroid</span> <span class="o">=</span> <span class="n">steel_geom</span><span class="o">.</span><span class="n">calculate_centroid</span><span class="p">()</span>
    <span class="n">stress</span> <span class="o">=</span> <span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">steel_stresses</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="n">strain</span> <span class="o">=</span> <span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">steel_strains</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    <span class="n">force</span><span class="p">,</span> <span class="n">d_x</span><span class="p">,</span> <span class="n">d_y</span> <span class="o">=</span> <span class="n">cracked_stress_res</span><span class="o">.</span><span class="n">steel_forces</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>

    <span class="c1"># calculate the moment each bar creates and store the results</span>
    <span class="n">moment_x</span> <span class="o">=</span> <span class="n">force</span> <span class="o">*</span> <span class="n">d_y</span>
    <span class="n">forces</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">force</span><span class="p">)</span>
    <span class="n">moments_x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">moment_x</span><span class="p">)</span>

    <span class="c1"># print compression or tension</span>
    <span class="k">if</span> <span class="n">strain</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">t_or_c</span> <span class="o">=</span> <span class="s2">&quot;C&quot;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">t_or_c</span> <span class="o">=</span> <span class="s2">&quot;T&quot;</span>

    <span class="n">table</span><span class="o">.</span><span class="n">add_row</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">idx</span> <span class="o">+</span> <span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">centroid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">centroid</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="n">stress</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">t_or_c</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="n">force</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e3</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">d_y</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">moment_x</span> <span class="o">/</span> <span class="mf">1e6</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>

<span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
<span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"><span style="font-style: italic">                                         Steel Results                                         </span>
┏━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┓
┃<span style="font-weight: bold"> Bar No. </span>┃<span style="font-weight: bold"> Location (x, y) (mm) </span>┃<span style="font-weight: bold"> Stress (MPa) </span>┃<span style="font-weight: bold"> Force (kN) </span>┃<span style="font-weight: bold"> Lever Arm (mm) </span>┃<span style="font-weight: bold"> Moment (kN.m) </span>┃
┡━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━┩
│<span style="color: #008080; text-decoration-color: #008080">    1    </span>│<span style="color: #008000; text-decoration-color: #008000">    (245.0, -0.0)     </span>│<span style="color: #008000; text-decoration-color: #008000">  112.3 (T)   </span>│<span style="color: #008000; text-decoration-color: #008000">    34.8    </span>│<span style="color: #008000; text-decoration-color: #008000">     -157.2     </span>│<span style="color: #008000; text-decoration-color: #008000">     5.47      </span>│
│<span style="color: #008080; text-decoration-color: #008080">    2    </span>│<span style="color: #008000; text-decoration-color: #008000">    (198.2, 144.0)    </span>│<span style="color: #008000; text-decoration-color: #008000">   9.4 (T)    </span>│<span style="color: #008000; text-decoration-color: #008000">    2.9     </span>│<span style="color: #008000; text-decoration-color: #008000">     -13.1      </span>│<span style="color: #008000; text-decoration-color: #008000">     0.04      </span>│
│<span style="color: #008080; text-decoration-color: #008080">    3    </span>│<span style="color: #008000; text-decoration-color: #008000">    (75.7, 233.0)     </span>│<span style="color: #008000; text-decoration-color: #008000">   54.2 (C)   </span>│<span style="color: #008000; text-decoration-color: #008000">    16.8    </span>│<span style="color: #008000; text-decoration-color: #008000">      75.9      </span>│<span style="color: #008000; text-decoration-color: #008000">     1.27      </span>│
│<span style="color: #008080; text-decoration-color: #008080">    4    </span>│<span style="color: #008000; text-decoration-color: #008000">    (-75.7, 233.0)    </span>│<span style="color: #008000; text-decoration-color: #008000">   54.2 (C)   </span>│<span style="color: #008000; text-decoration-color: #008000">    16.8    </span>│<span style="color: #008000; text-decoration-color: #008000">      75.9      </span>│<span style="color: #008000; text-decoration-color: #008000">     1.27      </span>│
│<span style="color: #008080; text-decoration-color: #008080">    5    </span>│<span style="color: #008000; text-decoration-color: #008000">   (-198.2, 144.0)    </span>│<span style="color: #008000; text-decoration-color: #008000">   9.4 (T)    </span>│<span style="color: #008000; text-decoration-color: #008000">    2.9     </span>│<span style="color: #008000; text-decoration-color: #008000">     -13.1      </span>│<span style="color: #008000; text-decoration-color: #008000">     0.04      </span>│
│<span style="color: #008080; text-decoration-color: #008080">    6    </span>│<span style="color: #008000; text-decoration-color: #008000">    (-245.0, -0.0)    </span>│<span style="color: #008000; text-decoration-color: #008000">  112.3 (T)   </span>│<span style="color: #008000; text-decoration-color: #008000">    34.8    </span>│<span style="color: #008000; text-decoration-color: #008000">     -157.2     </span>│<span style="color: #008000; text-decoration-color: #008000">     5.47      </span>│
│<span style="color: #008080; text-decoration-color: #008080">    7    </span>│<span style="color: #008000; text-decoration-color: #008000">   (-198.2, -144.0)   </span>│<span style="color: #008000; text-decoration-color: #008000">  215.1 (T)   </span>│<span style="color: #008000; text-decoration-color: #008000">    66.7    </span>│<span style="color: #008000; text-decoration-color: #008000">     -301.2     </span>│<span style="color: #008000; text-decoration-color: #008000">     20.08     </span>│
│<span style="color: #008080; text-decoration-color: #008080">    8    </span>│<span style="color: #008000; text-decoration-color: #008000">   (-75.7, -233.0)    </span>│<span style="color: #008000; text-decoration-color: #008000">  278.7 (T)   </span>│<span style="color: #008000; text-decoration-color: #008000">    86.4    </span>│<span style="color: #008000; text-decoration-color: #008000">     -390.2     </span>│<span style="color: #008000; text-decoration-color: #008000">     33.71     </span>│
│<span style="color: #008080; text-decoration-color: #008080">    9    </span>│<span style="color: #008000; text-decoration-color: #008000">    (75.7, -233.0)    </span>│<span style="color: #008000; text-decoration-color: #008000">  278.7 (T)   </span>│<span style="color: #008000; text-decoration-color: #008000">    86.4    </span>│<span style="color: #008000; text-decoration-color: #008000">     -390.2     </span>│<span style="color: #008000; text-decoration-color: #008000">     33.71     </span>│
│<span style="color: #008080; text-decoration-color: #008080">   10    </span>│<span style="color: #008000; text-decoration-color: #008000">   (198.2, -144.0)    </span>│<span style="color: #008000; text-decoration-color: #008000">  215.1 (T)   </span>│<span style="color: #008000; text-decoration-color: #008000">    66.7    </span>│<span style="color: #008000; text-decoration-color: #008000">     -301.2     </span>│<span style="color: #008000; text-decoration-color: #008000">     20.08     </span>│
└─────────┴──────────────────────┴──────────────┴────────────┴────────────────┴───────────────┘
</pre></div>
</div>
<p>Finally, let’s confirm that the net axial force is indeed zero and the internal moment is equal to the external moment.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># sum of forces</span>
<span class="n">int_force</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">forces</span><span class="p">)</span> <span class="o">+</span> <span class="n">f_conc</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sum of Internal Forces: </span><span class="si">{</span><span class="n">int_force</span> <span class="o">/</span> <span class="mf">1e3</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> kN&quot;</span><span class="p">)</span>

<span class="c1"># sum of moments</span>
<span class="n">int_moment</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">moments_x</span><span class="p">)</span> <span class="o">+</span> <span class="n">m_conc</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sum of Internal Moments: </span><span class="si">{</span><span class="n">int_moment</span> <span class="o">/</span> <span class="mf">1e6</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> kN.m&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;External Moment: </span><span class="si">{</span><span class="n">m_ext</span> <span class="o">/</span> <span class="mf">1e6</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> kN.m&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Sum of Internal Forces: 0 kN
Sum of Internal Moments: 150 kN.m
External Moment: 150 kN.m
</pre></div></div>
</div>
</div>
</div>
<div class="section" id="Service-Stress-Analysis">
<h2><span class="section-number">7.5. </span>Service Stress Analysis<a class="headerlink" href="#Service-Stress-Analysis" title="Permalink to this heading">#</a></h2>
<p>A service stress analysis displays internal stresses based off the stress-strain profiles provided to the material properties. Before viewing the stresses, a moment curvature analysis must be performed to establish the structural response of the reinforced concrete section.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mk_res</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">moment_curvature_analysis</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "0449fa18c77f47c69220a524c40314be"}</script></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre></div>
</div>
<p>Let’s plot the moment curvature diagram so that we can choose some interesting points to generate stress results.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mk_res</span><span class="o">.</span><span class="n">plot_results</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_26_0.svg" src="../_images/notebooks_stress_analysis_26_0.svg" /></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:title={&#39;center&#39;:&#39;Moment-Curvature&#39;}, xlabel=&#39;Curvature&#39;, ylabel=&#39;Moment&#39;&gt;
</pre></div></div>
</div>
<p>Based on the above, we compile a list of moments and curvatures at which we want to visualise the cross-section stresses. We use curvatures as input around the softening region as there are two possible values of moment.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a list of inputs (either moments [m] or curvatures [k])</span>
<span class="n">stress_inputs</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mf">50e6</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="n">cracked_res</span><span class="o">.</span><span class="n">m_cr</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">:</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mf">7.5e-07</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">:</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mf">1.15e-06</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">:</span> <span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mf">2.15e-06</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mf">250e6</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mf">300e6</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">:</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">:</span> <span class="mf">360e6</span><span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># loop through each input</span>
<span class="k">for</span> <span class="n">s_in</span> <span class="ow">in</span> <span class="n">stress_inputs</span><span class="p">:</span>
    <span class="c1"># determine if the input is a moment or curvature</span>
    <span class="k">if</span> <span class="n">s_in</span><span class="p">[</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;m&quot;</span><span class="p">:</span>
        <span class="n">m_stress</span> <span class="o">=</span> <span class="n">s_in</span><span class="p">[</span><span class="s2">&quot;val&quot;</span><span class="p">]</span>
        <span class="n">service_stress_res</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">calculate_service_stress</span><span class="p">(</span>
            <span class="n">moment_curvature_results</span><span class="o">=</span><span class="n">mk_res</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="n">m_stress</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="n">s_in</span><span class="p">[</span><span class="s2">&quot;m_or_k&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;k&quot;</span><span class="p">:</span>
        <span class="n">service_stress_res</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">calculate_service_stress</span><span class="p">(</span>
            <span class="n">moment_curvature_results</span><span class="o">=</span><span class="n">mk_res</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">kappa</span><span class="o">=</span><span class="n">s_in</span><span class="p">[</span><span class="s2">&quot;val&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="n">m_stress</span> <span class="o">=</span> <span class="n">service_stress_res</span><span class="o">.</span><span class="n">sum_moments</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>

    <span class="c1"># create plot title and plot stress</span>
    <span class="n">label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Moment = </span><span class="si">{</span><span class="n">m_stress</span> <span class="o">/</span> <span class="mf">1e6</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2"> kN.m&quot;</span>
    <span class="n">service_stress_res</span><span class="o">.</span><span class="n">plot_stress</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">label</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_29_0.svg" src="../_images/notebooks_stress_analysis_29_0.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_29_1.svg" src="../_images/notebooks_stress_analysis_29_1.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_29_2.svg" src="../_images/notebooks_stress_analysis_29_2.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_29_3.svg" src="../_images/notebooks_stress_analysis_29_3.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_29_4.svg" src="../_images/notebooks_stress_analysis_29_4.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_29_5.svg" src="../_images/notebooks_stress_analysis_29_5.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_29_6.svg" src="../_images/notebooks_stress_analysis_29_6.svg" /></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_29_7.svg" src="../_images/notebooks_stress_analysis_29_7.svg" /></div>
</div>
<p>Viewing the above stress plots in combination with the moment curvature diagram is an insightful way of understanding the bending response of a reinforced concrete section!</p>
</div>
<div class="section" id="Ultimate-Stress-Analysis">
<h2><span class="section-number">7.6. </span>Ultimate Stress Analysis<a class="headerlink" href="#Ultimate-Stress-Analysis" title="Permalink to this heading">#</a></h2>
<p>An ultimate stress analysis displayed the internal stresses at the ultimate bending moment. In this example we examine the ultimate stresses at the pure bending point, the balanced point and the decompression point. To locate these points we first plot the moment interaction diagram.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mi_res</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">moment_interaction_diagram</span><span class="p">()</span>
<span class="n">mi_res</span><span class="o">.</span><span class="n">plot_diagram</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"version_major": 2, "version_minor": 0, "model_id": "990b64b978904b46856d5dee08885bc2"}</script></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area rendered_html docutils container">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_32_2.svg" src="../_images/notebooks_stress_analysis_32_2.svg" /></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:title={&#39;center&#39;:&#39;Moment Interaction Diagram&#39;}, xlabel=&#39;Bending Moment&#39;, ylabel=&#39;Axial Force&#39;&gt;
</pre></div></div>
</div>
<p>Prior to plotting the stresses, the ultimate bending capacities must be calculated.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ultimate_res_pure</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">ultimate_bending_capacity</span><span class="p">()</span>
<span class="n">ultimate_res_bal</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">ultimate_bending_capacity</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mf">3500e3</span><span class="p">)</span>
<span class="n">ultimate_res_decomp</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">ultimate_bending_capacity</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mf">9000e3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We calculate the ultimate stresses by calling the <code class="docutils literal notranslate"><span class="pre">calculate_ultimate_stress()</span></code> method.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ultimate_stress_pure</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">calculate_ultimate_stress</span><span class="p">(</span>
    <span class="n">ultimate_results</span><span class="o">=</span><span class="n">ultimate_res_pure</span>
<span class="p">)</span>
<span class="n">ultimate_stress_bal</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">calculate_ultimate_stress</span><span class="p">(</span>
    <span class="n">ultimate_results</span><span class="o">=</span><span class="n">ultimate_res_bal</span>
<span class="p">)</span>
<span class="n">ultimate_stress_decomp</span> <span class="o">=</span> <span class="n">conc_sec</span><span class="o">.</span><span class="n">calculate_ultimate_stress</span><span class="p">(</span>
    <span class="n">ultimate_results</span><span class="o">=</span><span class="n">ultimate_res_decomp</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ultimate_stress_pure</span><span class="o">.</span><span class="n">plot_stress</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Pure Bending&quot;</span><span class="p">)</span>
<span class="n">ultimate_stress_bal</span><span class="o">.</span><span class="n">plot_stress</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Balanced&quot;</span><span class="p">)</span>
<span class="n">ultimate_stress_decomp</span><span class="o">.</span><span class="n">plot_stress</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Decompression&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_37_0.svg" src="../_images/notebooks_stress_analysis_37_0.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_37_1.svg" src="../_images/notebooks_stress_analysis_37_1.svg" /></div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_stress_analysis_37_2.svg" src="../_images/notebooks_stress_analysis_37_2.svg" /></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;AxesSubplot:title={&#39;center&#39;:&#39;Decompression&#39;}&gt;
</pre></div></div>
</div>
<p>As a rectangular stress block is used for the ultimate stress-strain profile, the entire cross-section is not in compression due to the zero stress region above the neutral axis in the stress-strain profile.</p>
<script type="application/vnd.jupyter.widget-state+json">
{"state": {"0468ddd07637492c8c27268e5448d97c": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "0449fa18c77f47c69220a524c40314be": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_0468ddd07637492c8c27268e5448d97c", "msg_id": "", "outputs": [{"output_type": "display_data", "metadata": {}, "data": {"text/plain": "\u001b[32m\u2819\u001b[0m \u001b[1;32m\u2705 M-K diagram generated\u001b[0m                          \u001b[38;2;76;56;63m\u2501\u001b[0m\u001b[38;2;62;57;59m\u2501\u001b[0m\u001b[38;2;58;58;58m\u2501\u001b[0m\u001b[38;2;62;57;59m\u2501\u001b[0m\u001b[38;2;76;56;63m\u2501\u001b[0m\u001b[38;2;97;53;69m\u2501\u001b[0m\u001b[38;2;123;51;77m\u2501\u001b[0m\u001b[38;2;153;48;86m\u2501\u001b[0m\u001b[38;2;183;44;94m\u2501\u001b[0m\u001b[38;2;209;42;102m\u2501\u001b[0m\u001b[38;2;230;39;108m\u2501\u001b[0m\u001b[38;2;244;38;112m\u2501\u001b[0m\u001b[38;2;249;38;114m\u2501\u001b[0m\u001b[38;2;244;38;112m\u2501\u001b[0m\u001b[38;2;230;39;108m\u2501\u001b[0m\u001b[38;2;209;42;102m\u2501\u001b[0m\u001b[38;2;183;44;94m\u2501\u001b[0m\u001b[38;2;153;48;86m\u2501\u001b[0m\u001b[38;2;123;51;77m\u2501\u001b[0m\u001b[38;2;97;53;69m\u2501\u001b[0m\u001b[38;2;76;56;63m\u2501\u001b[0m\u001b[38;2;62;57;59m\u2501\u001b[0m\u001b[38;2;58;58;58m\u2501\u001b[0m\u001b[38;2;62;57;59m\u2501\u001b[0m\u001b[38;2;76;56;63m\u2501\u001b[0m\u001b[38;2;97;53;69m\u2501\u001b[0m\u001b[38;2;123;51;77m\u2501\u001b[0m\u001b[38;2;153;48;86m\u2501\u001b[0m\u001b[38;2;183;44;94m\u2501\u001b[0m\u001b[38;2;209;42;102m\u2501\u001b[0m\u001b[38;2;230;39;108m\u2501\u001b[0m\u001b[38;2;244;38;112m\u2501\u001b[0m\u001b[38;2;249;38;114m\u2501\u001b[0m\u001b[38;2;244;38;112m\u2501\u001b[0m\u001b[38;2;230;39;108m\u2501\u001b[0m\u001b[38;2;209;42;102m\u2501\u001b[0m\u001b[38;2;183;44;94m\u2501\u001b[0m\u001b[38;2;153;48;86m\u2501\u001b[0m\u001b[38;2;123;51;77m\u2501\u001b[0m\u001b[38;2;97;53;69m\u2501\u001b[0m\u001b[38;2;76;56;63m\u2501\u001b[0m\u001b[38;2;62;57;59m\u2501\u001b[0m\u001b[38;2;58;58;58m\u2501\u001b[0m\u001b[38;2;62;57;59m\u2501\u001b[0m\u001b[38;2;76;56;63m\u2501\u001b[0m\u001b[38;2;97;53;69m\u2501\u001b[0m\u001b[38;2;123;51;77m\u2501\u001b[0m\u001b[38;2;153;48;86m\u2501\u001b[0m\u001b[38;2;183;44;94m\u2501\u001b[0m \u001b[33m[ 13.8406 s ]\u001b[0m\n", "text/html": "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\"><span style=\"color: #008000; text-decoration-color: #008000\">\u2819</span> <span style=\"color: #008000; text-decoration-color: #008000; font-weight: bold\">\u2705 M-K diagram generated</span>                          <span style=\"color: #4c383f; text-decoration-color: #4c383f\">\u2501</span><span style=\"color: #3e393b; text-decoration-color: #3e393b\">\u2501</span><span style=\"color: #3a3a3a; text-decoration-color: #3a3a3a\">\u2501</span><span style=\"color: #3e393b; text-decoration-color: #3e393b\">\u2501</span><span style=\"color: #4c383f; text-decoration-color: #4c383f\">\u2501</span><span style=\"color: #613545; text-decoration-color: #613545\">\u2501</span><span style=\"color: #7b334d; text-decoration-color: #7b334d\">\u2501</span><span style=\"color: #993056; text-decoration-color: #993056\">\u2501</span><span style=\"color: #b72c5e; text-decoration-color: #b72c5e\">\u2501</span><span style=\"color: #d12a66; text-decoration-color: #d12a66\">\u2501</span><span style=\"color: #e6276c; text-decoration-color: #e6276c\">\u2501</span><span style=\"color: #f42670; text-decoration-color: #f42670\">\u2501</span><span style=\"color: #f92672; text-decoration-color: #f92672\">\u2501</span><span style=\"color: #f42670; text-decoration-color: #f42670\">\u2501</span><span style=\"color: #e6276c; text-decoration-color: #e6276c\">\u2501</span><span style=\"color: #d12a66; text-decoration-color: #d12a66\">\u2501</span><span style=\"color: #b72c5e; text-decoration-color: #b72c5e\">\u2501</span><span style=\"color: #993056; text-decoration-color: #993056\">\u2501</span><span style=\"color: #7b334d; text-decoration-color: #7b334d\">\u2501</span><span style=\"color: #613545; text-decoration-color: #613545\">\u2501</span><span style=\"color: #4c383f; text-decoration-color: #4c383f\">\u2501</span><span style=\"color: #3e393b; text-decoration-color: #3e393b\">\u2501</span><span style=\"color: #3a3a3a; text-decoration-color: #3a3a3a\">\u2501</span><span style=\"color: #3e393b; text-decoration-color: #3e393b\">\u2501</span><span style=\"color: #4c383f; text-decoration-color: #4c383f\">\u2501</span><span style=\"color: #613545; text-decoration-color: #613545\">\u2501</span><span style=\"color: #7b334d; text-decoration-color: #7b334d\">\u2501</span><span style=\"color: #993056; text-decoration-color: #993056\">\u2501</span><span style=\"color: #b72c5e; text-decoration-color: #b72c5e\">\u2501</span><span style=\"color: #d12a66; text-decoration-color: #d12a66\">\u2501</span><span style=\"color: #e6276c; text-decoration-color: #e6276c\">\u2501</span><span style=\"color: #f42670; text-decoration-color: #f42670\">\u2501</span><span style=\"color: #f92672; text-decoration-color: #f92672\">\u2501</span><span style=\"color: #f42670; text-decoration-color: #f42670\">\u2501</span><span style=\"color: #e6276c; text-decoration-color: #e6276c\">\u2501</span><span style=\"color: #d12a66; text-decoration-color: #d12a66\">\u2501</span><span style=\"color: #b72c5e; text-decoration-color: #b72c5e\">\u2501</span><span style=\"color: #993056; text-decoration-color: #993056\">\u2501</span><span style=\"color: #7b334d; text-decoration-color: #7b334d\">\u2501</span><span style=\"color: #613545; text-decoration-color: #613545\">\u2501</span><span style=\"color: #4c383f; text-decoration-color: #4c383f\">\u2501</span><span style=\"color: #3e393b; text-decoration-color: #3e393b\">\u2501</span><span style=\"color: #3a3a3a; text-decoration-color: #3a3a3a\">\u2501</span><span style=\"color: #3e393b; text-decoration-color: #3e393b\">\u2501</span><span style=\"color: #4c383f; text-decoration-color: #4c383f\">\u2501</span><span style=\"color: #613545; text-decoration-color: #613545\">\u2501</span><span style=\"color: #7b334d; text-decoration-color: #7b334d\">\u2501</span><span style=\"color: #993056; text-decoration-color: #993056\">\u2501</span><span style=\"color: #b72c5e; text-decoration-color: #b72c5e\">\u2501</span> <span style=\"color: #808000; text-decoration-color: #808000\">[ 13.8406 s ]</span>\n</pre>\n"}}]}}, "4f88937b1bef4dfd9499c967ae63d18a": {"model_name": "LayoutModel", "model_module": "@jupyter-widgets/base", "model_module_version": "1.2.0", "state": {"_model_module": "@jupyter-widgets/base", "_model_module_version": "1.2.0", "_model_name": "LayoutModel", "_view_count": null, "_view_module": "@jupyter-widgets/base", "_view_module_version": "1.2.0", "_view_name": "LayoutView", "align_content": null, "align_items": null, "align_self": null, "border": null, "bottom": null, "display": null, "flex": null, "flex_flow": null, "grid_area": null, "grid_auto_columns": null, "grid_auto_flow": null, "grid_auto_rows": null, "grid_column": null, "grid_gap": null, "grid_row": null, "grid_template_areas": null, "grid_template_columns": null, "grid_template_rows": null, "height": null, "justify_content": null, "justify_items": null, "left": null, "margin": null, "max_height": null, "max_width": null, "min_height": null, "min_width": null, "object_fit": null, "object_position": null, "order": null, "overflow": null, "overflow_x": null, "overflow_y": null, "padding": null, "right": null, "top": null, "visibility": null, "width": null}}, "990b64b978904b46856d5dee08885bc2": {"model_name": "OutputModel", "model_module": "@jupyter-widgets/output", "model_module_version": "1.0.0", "state": {"_dom_classes": [], "_model_module": "@jupyter-widgets/output", "_model_module_version": "1.0.0", "_model_name": "OutputModel", "_view_count": null, "_view_module": "@jupyter-widgets/output", "_view_module_version": "1.0.0", "_view_name": "OutputView", "layout": "IPY_MODEL_4f88937b1bef4dfd9499c967ae63d18a", "msg_id": "", "outputs": [{"output_type": "display_data", "metadata": {}, "data": {"text/plain": "  \u001b[1;32m\u2705 M-N diagram generated\u001b[0m                        \u001b[38;2;114;156;31m\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u001b[0m \u001b[35m100%\u001b[0m \u001b[33m[ 0.3514 s ]\u001b[0m\n", "text/html": "<pre style=\"white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace\">  <span style=\"color: #008000; text-decoration-color: #008000; font-weight: bold\">\u2705 M-N diagram generated</span>                        <span style=\"color: #729c1f; text-decoration-color: #729c1f\">\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501</span> <span style=\"color: #800080; text-decoration-color: #800080\">100%</span> <span style=\"color: #808000; text-decoration-color: #808000\">[ 0.3514 s ]</span>\n</pre>\n"}}]}}}, "version_major": 2, "version_minor": 0}
</script></div>
</div>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="biaxial_bending.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title"><span class="section-number">6. </span>Biaxial Bending Diagram</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="design_codes.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title"><span class="section-number">8. </span>Design Codes</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022, Robbie van Leeuwen.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.1.1.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>